<html>

<head>
  <meta charset="utf-8">
  <title>mei-friend online</title>
  <link rel="icon" href="https://www.mdw.ac.at/favicon.ico">
  <link rel="stylesheet" href="./css/default.css">
  <link rel="stylesheet" href="./css/navbar.css">
  <link rel="stylesheet" href="./css/icons.css">
  </link>
  <link rel="stylesheet" id="orientationCSS" href="./css/bottom.css">
  <script src="./CodeMirror/lib/codemirror.js"></script>
  <link href="./CodeMirror/lib/codemirror.css" rel="stylesheet" />
  <script src="./CodeMirror/mode/xml/xml.js"></script>
  <link href="./CodeMirror/theme/dracula.css" rel="stylesheet" />
  <script src="./CodeMirror/addon/edit/closetag.js"></script>
  <script src="./CodeMirror/addon/edit/closebrackets.js"></script>
  <script src="./CodeMirror/addon/edit/matchtags.js"></script>
  <script src="./CodeMirror/addon/edit/trailingspace.js"></script>
  <script src="./CodeMirror/addon/fold/xml-fold.js"></script>
  <script src="./CodeMirror/addon/fold/foldcode.js"></script>
  <script src="./CodeMirror/addon/fold/foldgutter.js"></script>
  <script type="module" src="./lib/main.js"></script>
  <!-- <script src="http://www.verovio.org/javascript/latest/verovio-toolkit-wasm.js" defer></script> -->
</head>

<body>
  <div class="header">
    <div class="title">mei-friend online</div>
    <div class="navbar">
      <div class="dropdown">
        <button class="dropbtn" onclick="showDropDown('FileMenu')">File</button>
        <div class="dropdown-content" id="FileMenu">
          <a id="OpenMei" href="#">Open MEI</a>
          <a id="ImportMusicXml" href="#">Import MusicXML</a>
          <a id="ImportHumdrum" href="#">Import Humdrum</a>
          <a id="ImportPae" href="#">Import PAE, ABC</a>
          <hr class="dropdown-line">
          <a id="SaveMei" href="#">Save MEI</a>
          <a id="SavePdf" href="#">Save PDF</a>
          <a id="SaveMidi" href="#">Save MIDI</a>
        </div>
      </div>
      <div class="dropdown">
        <button class="dropbtn" onclick="showDropDown('ViewMenu')">View</button>
        <div class="dropdown-content" id="ViewMenu">
          <a id="top" href="#">Notation top</a>
          <a id="bottom" href="#">Notation bottom</a>
          <a id="left" href="#">Notation left</a>
          <a id="right" href="#">Notation right</a>
          <hr class="dropdown-line">
          <a id="rockbar" href="#">Move status bar</a>
          <a id="DoThis" href="#">Do this</a>
          <a id="DoThat" href="#">Do that</a>
        </div>
      </div>
      <div class="dropdown">
        <button class="dropbtn" onclick="showDropDown('HelpMenu')">Help</button>
        <div class="dropdown-content" id="HelpMenu">
          <a id="GoToHelpPage" href="#">Show help page</a>
        </div>
      </div>
    </div>
  </div>
  <div class="dragContainer">
    <div class="dragOverlay">
      <div class="dragOverlayText">Drag your xml file here.</div>
    </div>
    <div class="friendContainer">
      <div class="notation"></div>
      <div class="resizer" id="dragMe"></div>
      <div class="encoding">
        <textarea id="editor">Hallo!</textarea>
      </div>
    </div>
  </div>
  <div class="footer">
    <div class="leftfoot">Werner Goebl, Nov. 2021</div>
    <div class="middlefoot">
      <div class="statusbar"></div>
      <div class="progressbar"></div>
    </div>
    <div class="rightfoot"></div>
  </div>

  <script>
    // show/hide menu items
    function showDropDown(target) {
      document.getElementById(target).classList.toggle("show");
    }

    // Close all the dropdown content if not current menu item
    window.onclick = function(ev) {
      var menuList = document.querySelectorAll(".dropdown-content");
      menuList.forEach((item, i) => {
        let id = item.getAttribute('id');
        let evId = ';'
        let dropDownContent = ev.target.nextElementSibling;
        if (dropDownContent) evId = dropDownContent.getAttribute('id');
        if (item.classList.contains('show') && evId != id)
          item.classList.remove('show');
      });
    }
  </script>
</body>

</html>
